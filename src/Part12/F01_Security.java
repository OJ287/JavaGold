package Part12;

/**
 * @author liyanpeng
 * @date 2025/5/20
 * @description TODO
 */

/**
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚ è€ƒç‚¹åˆ†ç±»                   â”‚ å†…å®¹è¯´æ˜                                     â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ SecurityManager çš„ä½œç”¨     â”‚ æ§åˆ¶ Java ç¨‹åºè®¿é—®æ•æ„Ÿèµ„æºï¼ˆå¦‚æ–‡ä»¶ã€ç½‘ç»œç­‰ï¼‰  â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ SecurityManager çš„å¯ç”¨æ–¹å¼ â”‚ System.setSecurityManager(new SecurityManager());â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ å¸¸è§è§¦å‘ç‚¹ï¼ˆéœ€è®°ï¼‰         â”‚ è¯»å–ç³»ç»Ÿå±æ€§ã€æ–‡ä»¶è¯»å†™ã€ç½‘ç»œè®¿é—®ã€åˆ›å»ºç±»åŠ è½½å™¨â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ å¸¸è§å¼‚å¸¸                   â”‚ SecurityExceptionï¼ˆæƒé™ä¸è¶³æ—¶æŠ›å‡ºï¼‰           â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ Permission ç±»ï¼ˆéœ€äº†è§£ï¼‰    â”‚ java.security.Permission æ˜¯æ‰€æœ‰æƒé™çš„åŸºç±»     â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ å¸¸è§å­ç±»ï¼ˆéœ€è¯†åˆ«ï¼‰         â”‚ FilePermission / SocketPermission /           â”‚
 * â”‚                            â”‚ PropertyPermission / RuntimePermission        â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ FilePermission ç¤ºä¾‹        â”‚ new FilePermission("C:/data.txt", "read");    â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ Policy æ–‡ä»¶ä½œç”¨ï¼ˆäº†è§£å³å¯ï¼‰â”‚ å®šä¹‰æˆäºˆå“ªäº›ä»£ç ï¼ˆè·¯å¾„ï¼‰ä»€ä¹ˆæƒé™             â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ Policy æ–‡ä»¶æ ¼å¼            â”‚ grant { permission xxxPermission "name", "action"; };â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ é»˜è®¤ç­–ç•¥                   â”‚ æ—  policy æ–‡ä»¶æ—¶ï¼Œé»˜è®¤æ‹’ç»å¤§å¤šæ•°æ“ä½œ         â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ java.policy è®¾ç½®æ–¹å¼       â”‚ -Djava.security.policy=example.policy         â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ AllPermissionï¼ˆâš ï¸ä¸è¦ä½¿ç”¨ï¼‰â”‚ è¡¨ç¤ºæ‹¥æœ‰æ‰€æœ‰æƒé™ï¼Œè¿èƒŒæœ€å°æƒé™åŸåˆ™            â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * <p>
 * <p>
 * â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚ No â”‚ é¢˜ç›®å†…å®¹ï¼ˆå•é€‰ï¼‰                                           â”‚
 * â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ 1  â”‚ åœ¨ä»¥ä¸‹å“ªç§æƒ…å†µä¸‹æœ€æœ‰å¯èƒ½æŠ›å‡º SecurityExceptionï¼Ÿ            â”‚
 * â”‚    â”‚ A. ä½¿ç”¨ equals() æ–¹æ³•æ¯”è¾ƒå­—ç¬¦ä¸²                             â”‚
 * â”‚    â”‚ B. è°ƒç”¨ System.exit(0)                                     â”‚
 * â”‚    â”‚ C. è®¿é—®æœ¬åœ°å˜é‡                                             â”‚
 * â”‚    â”‚ D. åˆ›å»ºä¸€ä¸ª ArrayList å®ä¾‹                                  â”‚
 * â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ âœ… æ­£ç¡®ç­”æ¡ˆï¼šB è§£æï¼šSystem.exit() ä¼šè¢« SecurityManager æ‹¦æˆªæ£€æŸ¥ã€‚ â”‚
 * â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ 2  â”‚ å“ªä¸ªç±»çš„å®ä¾‹å¯ç”¨äºé™åˆ¶å¯¹æ–‡ä»¶ç³»ç»Ÿçš„è®¿é—®ï¼Ÿ                     â”‚
 * â”‚    â”‚ A. RuntimePermission                                        â”‚
 * â”‚    â”‚ B. SocketPermission                                         â”‚
 * â”‚    â”‚ C. FilePermission âœ…                                        â”‚
 * â”‚    â”‚ D. AccessPermission                                         â”‚
 * â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ âœ… æ­£ç¡®ç­”æ¡ˆï¼šC è§£æï¼šFilePermission æ§åˆ¶æ–‡ä»¶è¯»å†™æƒé™ã€‚             â”‚
 * â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ 3  â”‚ ä»¥ä¸‹å“ªé¡¹æœ€å¯èƒ½å‡ºç°åœ¨ policy æ–‡ä»¶ä¸­ï¼Ÿ                         â”‚
 * â”‚    â”‚ A. allow FilePermission: "file.txt", "read";               â”‚
 * â”‚    â”‚ B. permission java.io.FilePermission "file.txt", "read"; âœ…â”‚
 * â”‚    â”‚ C. grant FilePermission for "file.txt" with "read";        â”‚
 * â”‚    â”‚ D. access file:"file.txt" as read;                         â”‚
 * â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ âœ… æ­£ç¡®ç­”æ¡ˆï¼šB policy è¯­æ³•æ˜¯ permission + ç±»å…¨å + name + actions â”‚
 * â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ 4  â”‚ å½“ç¨‹åºè¢«è®¾ç½®äº† SecurityManagerï¼Œä½†æœªç»™äºˆæƒé™æ—¶è°ƒç”¨           â”‚
 * â”‚    â”‚ System.getProperty("user.home") ä¼šå¦‚ä½•ï¼Ÿ                   â”‚
 * â”‚    â”‚ A. æ­£å¸¸è¿”å›ç”¨æˆ·ä¸»ç›®å½•è·¯å¾„                                   â”‚
 * â”‚    â”‚ B. è¿”å› null                                                â”‚
 * â”‚    â”‚ C. æŠ›å‡º SecurityException âœ…                                â”‚
 * â”‚    â”‚ D. æŠ›å‡º IOException                                         â”‚
 * â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ âœ… æ­£ç¡®ç­”æ¡ˆï¼šC è¯»å–ç³»ç»Ÿå±æ€§æ˜¯å—é™åˆ¶æ“ä½œï¼Œæœªæˆæƒä¼šæŠ›å¼‚å¸¸ã€‚          â”‚
 * â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ 5  â”‚ ä¸‹åˆ—å“ªé¡¹ä¸æ˜¯ java.security.Permission çš„å­ç±»ï¼Ÿ               â”‚
 * â”‚    â”‚ A. FilePermission                                           â”‚
 * â”‚    â”‚ B. SocketPermission                                         â”‚
 * â”‚    â”‚ C. RuntimePermission                                        â”‚
 * â”‚    â”‚ D. SystemPermission âŒï¼ˆä¼ªé€ é€‰é¡¹ï¼‰                           â”‚
 * â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ âœ… æ­£ç¡®ç­”æ¡ˆï¼šD è§£æï¼šSystemPermission å¹¶ä¸å­˜åœ¨ã€‚                  â”‚
 * â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 */

/**
 * ğŸ“„ Policy æ–‡ä»¶ç¤ºä¾‹
 * âŒ policy-deny.policyï¼ˆä¸ç»™æƒé™ï¼Œä¼šæŠ›å¼‚å¸¸ï¼‰
 * grant {
 *     // ç©ºæƒé™ï¼Œä»€ä¹ˆéƒ½ä¸å…è®¸
 * };
 * âœ… policy-allow.policyï¼ˆå…è®¸è¯»å– user.homeï¼‰
 * grant {
 *     permission java.util.PropertyPermission "user.home", "read";
 * };
 *
 * ğŸ ç¼–è¯‘ä¸è¿è¡Œæ–¹æ³•ï¼ˆå‘½ä»¤è¡Œï¼‰
 * javac SecurityExample.java
 *
 * è¿è¡Œæ—¶ ä¸åŠ æƒé™
 * java -Djava.security.manager \
 *      -Djava.security.policy=policy-deny.policy \
 *      SecurityExample
 *  è¾“å‡ºï¼šSecurityException: æ— æƒé™è®¿é—® user.home
 *
 *  è¿è¡Œæ—¶ åŠ æƒé™
 *  java -Djava.security.manager \
 *      -Djava.security.policy=policy-allow.policy \
 *      SecurityExample
 *   è¾“å‡ºï¼š User home: /Users/liyanpeng
 *
 *
 *
 */
public class F01_Security {
    // è‡ªåŠ¨ç”Ÿæˆ main æ–¹æ³•
    public static void main(String[] args) {
        // TODO

        // è®¾ç½®å®‰å…¨ç®¡ç†å™¨
        System.setSecurityManager(new SecurityManager());

        try {
            // è¯»å–å—é™åˆ¶çš„ç³»ç»Ÿå±æ€§
            String home = System.getProperty("user.home");
            System.out.println("User home: " + home);
        } catch (SecurityException e) {
            System.out.println("SecurityException: æ— æƒé™è®¿é—® user.home");
        }
    }
}